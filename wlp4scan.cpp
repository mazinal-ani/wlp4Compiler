#include <iostream>
#include <sstream>
#include <string>
#include <vector>
#include <unordered_map>
#include <set>
const std::string ALPHABET    = ".ALPHABET";
const std::string STATES      = ".STATES";
const std::string TRANSITIONS = ".TRANSITIONS";
const std::string INPUT       = ".INPUT";
const std::string EMPTY       = ".EMPTY";

std::set<char> alphabet;
std::set<std::string> states;
std::set<std::string> accepting_states;
std::unordered_map<std::string, std::unordered_map<char, std::string>> transitions;
std::string starting_state;

bool isChar(std::string s) {
  return s.length() == 1;
}
bool isRange(std::string s) {
  return s.length() == 3 && s[1] == '-';
}

unsigned char wlp4_dfa[] = {
  0x2e, 0x41, 0x4c, 0x50, 0x48, 0x41, 0x42, 0x45, 0x54, 0x0a, 0x61, 0x2d,
  0x7a, 0x20, 0x41, 0x2d, 0x5a, 0x20, 0x28, 0x20, 0x29, 0x20, 0x30, 0x2d,
  0x39, 0x20, 0x7b, 0x20, 0x7d, 0x20, 0x3d, 0x20, 0x21, 0x20, 0x3c, 0x20,
  0x3e, 0x20, 0x2b, 0x20, 0x2d, 0x20, 0x2a, 0x20, 0x2f, 0x20, 0x25, 0x20,
  0x2c, 0x20, 0x3b, 0x20, 0x5b, 0x20, 0x5d, 0x20, 0x26, 0x20, 0x2e, 0x53,
  0x50, 0x41, 0x43, 0x45, 0x20, 0x2e, 0x4e, 0x45, 0x57, 0x4c, 0x49, 0x4e,
  0x45, 0x0a, 0x2e, 0x53, 0x54, 0x41, 0x54, 0x45, 0x53, 0x0a, 0x73, 0x74,
  0x61, 0x72, 0x74, 0x0a, 0x73, 0x6c, 0x61, 0x73, 0x68, 0x21, 0x0a, 0x73,
  0x70, 0x61, 0x63, 0x65, 0x21, 0x0a, 0x6e, 0x65, 0x77, 0x6c, 0x69, 0x6e,
  0x65, 0x21, 0x0a, 0x73, 0x65, 0x63, 0x6f, 0x6e, 0x64, 0x73, 0x6c, 0x61,
  0x73, 0x68, 0x21, 0x0a, 0x63, 0x6f, 0x6d, 0x6d, 0x65, 0x6e, 0x74, 0x64,
  0x6f, 0x6e, 0x65, 0x21, 0x0a, 0x69, 0x64, 0x21, 0x0a, 0x64, 0x21, 0x20,
  0x65, 0x21, 0x20, 0x67, 0x21, 0x20, 0x69, 0x21, 0x20, 0x6e, 0x21, 0x20,
  0x70, 0x21, 0x20, 0x72, 0x21, 0x20, 0x77, 0x21, 0x20, 0x4e, 0x21, 0x0a,
  0x64, 0x65, 0x21, 0x20, 0x65, 0x6c, 0x21, 0x20, 0x67, 0x65, 0x21, 0x20,
  0x69, 0x66, 0x21, 0x20, 0x69, 0x6e, 0x21, 0x20, 0x6e, 0x65, 0x21, 0x20,
  0x70, 0x72, 0x21, 0x20, 0x70, 0x75, 0x21, 0x20, 0x72, 0x65, 0x21, 0x20,
  0x77, 0x61, 0x21, 0x20, 0x77, 0x68, 0x21, 0x20, 0x4e, 0x55, 0x21, 0x0a,
  0x64, 0x65, 0x6c, 0x21, 0x20, 0x65, 0x6c, 0x73, 0x21, 0x20, 0x67, 0x65,
  0x74, 0x21, 0x20, 0x69, 0x6e, 0x74, 0x21, 0x20, 0x6e, 0x65, 0x77, 0x21,
  0x20, 0x70, 0x72, 0x69, 0x21, 0x20, 0x70, 0x75, 0x74, 0x21, 0x20, 0x72,
  0x65, 0x74, 0x21, 0x20, 0x77, 0x61, 0x69, 0x21, 0x20, 0x77, 0x68, 0x69,
  0x21, 0x20, 0x4e, 0x55, 0x4c, 0x21, 0x0a, 0x64, 0x65, 0x6c, 0x65, 0x21,
  0x20, 0x65, 0x6c, 0x73, 0x65, 0x21, 0x20, 0x67, 0x65, 0x74, 0x63, 0x21,
  0x20, 0x70, 0x72, 0x69, 0x6e, 0x21, 0x20, 0x70, 0x75, 0x74, 0x63, 0x21,
  0x20, 0x72, 0x65, 0x74, 0x75, 0x21, 0x20, 0x77, 0x61, 0x69, 0x6e, 0x21,
  0x20, 0x77, 0x68, 0x69, 0x6c, 0x21, 0x20, 0x4e, 0x55, 0x4c, 0x4c, 0x21,
  0x0a, 0x64, 0x65, 0x6c, 0x65, 0x74, 0x21, 0x20, 0x67, 0x65, 0x74, 0x63,
  0x68, 0x21, 0x20, 0x70, 0x72, 0x69, 0x6e, 0x74, 0x21, 0x20, 0x70, 0x75,
  0x74, 0x63, 0x68, 0x21, 0x20, 0x72, 0x65, 0x74, 0x75, 0x72, 0x21, 0x20,
  0x77, 0x68, 0x69, 0x6c, 0x65, 0x21, 0x0a, 0x64, 0x65, 0x6c, 0x65, 0x74,
  0x65, 0x21, 0x20, 0x67, 0x65, 0x74, 0x63, 0x68, 0x61, 0x21, 0x20, 0x70,
  0x72, 0x69, 0x6e, 0x74, 0x6c, 0x21, 0x20, 0x70, 0x75, 0x74, 0x63, 0x68,
  0x61, 0x21, 0x20, 0x72, 0x65, 0x74, 0x75, 0x72, 0x6e, 0x21, 0x0a, 0x67,
  0x65, 0x74, 0x63, 0x68, 0x61, 0x72, 0x21, 0x20, 0x70, 0x72, 0x69, 0x6e,
  0x74, 0x6c, 0x6e, 0x21, 0x20, 0x70, 0x75, 0x74, 0x63, 0x68, 0x61, 0x72,
  0x21, 0x0a, 0x6c, 0x70, 0x61, 0x72, 0x65, 0x6e, 0x21, 0x20, 0x72, 0x70,
  0x61, 0x72, 0x65, 0x6e, 0x21, 0x0a, 0x6c, 0x62, 0x72, 0x61, 0x63, 0x65,
  0x21, 0x20, 0x72, 0x62, 0x72, 0x61, 0x63, 0x65, 0x21, 0x0a, 0x6c, 0x62,
  0x72, 0x61, 0x63, 0x6b, 0x21, 0x20, 0x72, 0x62, 0x72, 0x61, 0x63, 0x6b,
  0x21, 0x0a, 0x62, 0x65, 0x63, 0x6f, 0x6d, 0x65, 0x73, 0x21, 0x20, 0x65,
  0x71, 0x21, 0x20, 0x65, 0x78, 0x63, 0x6c, 0x61, 0x6d, 0x61, 0x74, 0x69,
  0x6f, 0x6e, 0x20, 0x6e, 0x65, 0x71, 0x21, 0x0a, 0x67, 0x74, 0x21, 0x20,
  0x6c, 0x74, 0x21, 0x20, 0x67, 0x65, 0x71, 0x21, 0x20, 0x6c, 0x65, 0x21,
  0x0a, 0x70, 0x6c, 0x75, 0x73, 0x21, 0x20, 0x6d, 0x69, 0x6e, 0x75, 0x73,
  0x21, 0x20, 0x73, 0x74, 0x61, 0x72, 0x21, 0x20, 0x70, 0x63, 0x74, 0x21,
  0x20, 0x63, 0x6f, 0x6d, 0x6d, 0x61, 0x21, 0x20, 0x73, 0x65, 0x6d, 0x69,
  0x21, 0x20, 0x61, 0x6d, 0x70, 0x21, 0x0a, 0x66, 0x69, 0x72, 0x73, 0x74,
  0x5f, 0x7a, 0x65, 0x72, 0x6f, 0x21, 0x20, 0x6e, 0x75, 0x6d, 0x21, 0x0a,
  0x2e, 0x54, 0x52, 0x41, 0x4e, 0x53, 0x49, 0x54, 0x49, 0x4f, 0x4e, 0x53,
  0x0a, 0x73, 0x74, 0x61, 0x72, 0x74, 0x20, 0x2f, 0x20, 0x73, 0x6c, 0x61,
  0x73, 0x68, 0x0a, 0x73, 0x74, 0x61, 0x72, 0x74, 0x20, 0x2e, 0x53, 0x50,
  0x41, 0x43, 0x45, 0x20, 0x73, 0x70, 0x61, 0x63, 0x65, 0x0a, 0x73, 0x70,
  0x61, 0x63, 0x65, 0x20, 0x2e, 0x53, 0x50, 0x41, 0x43, 0x45, 0x20, 0x73,
  0x70, 0x61, 0x63, 0x65, 0x0a, 0x73, 0x74, 0x61, 0x72, 0x74, 0x20, 0x2e,
  0x4e, 0x45, 0x57, 0x4c, 0x49, 0x4e, 0x45, 0x20, 0x6e, 0x65, 0x77, 0x6c,
  0x69, 0x6e, 0x65, 0x0a, 0x6e, 0x65, 0x77, 0x6c, 0x69, 0x6e, 0x65, 0x20,
  0x2e, 0x4e, 0x45, 0x57, 0x4c, 0x49, 0x4e, 0x45, 0x20, 0x6e, 0x65, 0x77,
  0x6c, 0x69, 0x6e, 0x65, 0x0a, 0x73, 0x6c, 0x61, 0x73, 0x68, 0x20, 0x2f,
  0x20, 0x73, 0x65, 0x63, 0x6f, 0x6e, 0x64, 0x73, 0x6c, 0x61, 0x73, 0x68,
  0x0a, 0x73, 0x65, 0x63, 0x6f, 0x6e, 0x64, 0x73, 0x6c, 0x61, 0x73, 0x68,
  0x20, 0x2e, 0x4e, 0x45, 0x57, 0x4c, 0x49, 0x4e, 0x45, 0x20, 0x63, 0x6f,
  0x6d, 0x6d, 0x65, 0x6e, 0x74, 0x64, 0x6f, 0x6e, 0x65, 0x0a, 0x73, 0x65,
  0x63, 0x6f, 0x6e, 0x64, 0x73, 0x6c, 0x61, 0x73, 0x68, 0x20, 0x2e, 0x4f,
  0x54, 0x48, 0x45, 0x52, 0x20, 0x73, 0x65, 0x63, 0x6f, 0x6e, 0x64, 0x73,
  0x6c, 0x61, 0x73, 0x68, 0x0a, 0x73, 0x74, 0x61, 0x72, 0x74, 0x20, 0x28,
  0x20, 0x6c, 0x70, 0x61, 0x72, 0x65, 0x6e, 0x0a, 0x73, 0x74, 0x61, 0x72,
  0x74, 0x20, 0x29, 0x20, 0x72, 0x70, 0x61, 0x72, 0x65, 0x6e, 0x0a, 0x73,
  0x74, 0x61, 0x72, 0x74, 0x20, 0x7b, 0x20, 0x6c, 0x62, 0x72, 0x61, 0x63,
  0x65, 0x0a, 0x73, 0x74, 0x61, 0x72, 0x74, 0x20, 0x7d, 0x20, 0x72, 0x62,
  0x72, 0x61, 0x63, 0x65, 0x0a, 0x73, 0x74, 0x61, 0x72, 0x74, 0x20, 0x5b,
  0x20, 0x6c, 0x62, 0x72, 0x61, 0x63, 0x6b, 0x0a, 0x73, 0x74, 0x61, 0x72,
  0x74, 0x20, 0x5d, 0x20, 0x72, 0x62, 0x72, 0x61, 0x63, 0x6b, 0x0a, 0x73,
  0x74, 0x61, 0x72, 0x74, 0x20, 0x3d, 0x20, 0x62, 0x65, 0x63, 0x6f, 0x6d,
  0x65, 0x73, 0x0a, 0x62, 0x65, 0x63, 0x6f, 0x6d, 0x65, 0x73, 0x20, 0x3d,
  0x20, 0x65, 0x71, 0x0a, 0x73, 0x74, 0x61, 0x72, 0x74, 0x20, 0x21, 0x20,
  0x65, 0x78, 0x63, 0x6c, 0x61, 0x6d, 0x61, 0x74, 0x69, 0x6f, 0x6e, 0x0a,
  0x65, 0x78, 0x63, 0x6c, 0x61, 0x6d, 0x61, 0x74, 0x69, 0x6f, 0x6e, 0x20,
  0x3d, 0x20, 0x6e, 0x65, 0x71, 0x0a, 0x73, 0x74, 0x61, 0x72, 0x74, 0x20,
  0x3e, 0x20, 0x67, 0x74, 0x0a, 0x73, 0x74, 0x61, 0x72, 0x74, 0x20, 0x3c,
  0x20, 0x6c, 0x74, 0x0a, 0x67, 0x74, 0x20, 0x3d, 0x20, 0x67, 0x65, 0x71,
  0x0a, 0x6c, 0x74, 0x20, 0x3d, 0x20, 0x6c, 0x65, 0x0a, 0x73, 0x74, 0x61,
  0x72, 0x74, 0x20, 0x2b, 0x20, 0x70, 0x6c, 0x75, 0x73, 0x0a, 0x73, 0x74,
  0x61, 0x72, 0x74, 0x20, 0x2d, 0x20, 0x6d, 0x69, 0x6e, 0x75, 0x73, 0x0a,
  0x73, 0x74, 0x61, 0x72, 0x74, 0x20, 0x2a, 0x20, 0x73, 0x74, 0x61, 0x72,
  0x0a, 0x73, 0x74, 0x61, 0x72, 0x74, 0x20, 0x25, 0x20, 0x70, 0x63, 0x74,
  0x0a, 0x73, 0x74, 0x61, 0x72, 0x74, 0x20, 0x2c, 0x20, 0x63, 0x6f, 0x6d,
  0x6d, 0x61, 0x0a, 0x73, 0x74, 0x61, 0x72, 0x74, 0x20, 0x3b, 0x20, 0x73,
  0x65, 0x6d, 0x69, 0x0a, 0x73, 0x74, 0x61, 0x72, 0x74, 0x20, 0x26, 0x20,
  0x61, 0x6d, 0x70, 0x0a, 0x73, 0x74, 0x61, 0x72, 0x74, 0x20, 0x30, 0x20,
  0x66, 0x69, 0x72, 0x73, 0x74, 0x5f, 0x7a, 0x65, 0x72, 0x6f, 0x0a, 0x73,
  0x74, 0x61, 0x72, 0x74, 0x20, 0x31, 0x2d, 0x39, 0x20, 0x6e, 0x75, 0x6d,
  0x0a, 0x6e, 0x75, 0x6d, 0x20, 0x30, 0x2d, 0x39, 0x20, 0x6e, 0x75, 0x6d,
  0x0a, 0x73, 0x74, 0x61, 0x72, 0x74, 0x20, 0x61, 0x2d, 0x63, 0x20, 0x66,
  0x20, 0x68, 0x20, 0x6a, 0x2d, 0x6d, 0x20, 0x6f, 0x20, 0x71, 0x20, 0x73,
  0x2d, 0x76, 0x20, 0x78, 0x2d, 0x7a, 0x20, 0x41, 0x2d, 0x4d, 0x20, 0x4f,
  0x2d, 0x5a, 0x20, 0x69, 0x64, 0x0a, 0x69, 0x64, 0x20, 0x61, 0x2d, 0x7a,
  0x20, 0x41, 0x2d, 0x5a, 0x20, 0x30, 0x2d, 0x39, 0x20, 0x69, 0x64, 0x0a,
  0x73, 0x74, 0x61, 0x72, 0x74, 0x20, 0x64, 0x20, 0x64, 0x0a, 0x73, 0x74,
  0x61, 0x72, 0x74, 0x20, 0x65, 0x20, 0x65, 0x0a, 0x73, 0x74, 0x61, 0x72,
  0x74, 0x20, 0x67, 0x20, 0x67, 0x0a, 0x73, 0x74, 0x61, 0x72, 0x74, 0x20,
  0x69, 0x20, 0x69, 0x0a, 0x73, 0x74, 0x61, 0x72, 0x74, 0x20, 0x6e, 0x20,
  0x6e, 0x20, 0x0a, 0x73, 0x74, 0x61, 0x72, 0x74, 0x20, 0x70, 0x20, 0x70,
  0x20, 0x0a, 0x73, 0x74, 0x61, 0x72, 0x74, 0x20, 0x72, 0x20, 0x72, 0x20,
  0x0a, 0x73, 0x74, 0x61, 0x72, 0x74, 0x20, 0x77, 0x20, 0x77, 0x20, 0x0a,
  0x73, 0x74, 0x61, 0x72, 0x74, 0x20, 0x4e, 0x20, 0x4e, 0x0a, 0x64, 0x20,
  0x65, 0x20, 0x64, 0x65, 0x0a, 0x64, 0x20, 0x61, 0x2d, 0x64, 0x20, 0x66,
  0x2d, 0x7a, 0x20, 0x41, 0x2d, 0x5a, 0x20, 0x30, 0x2d, 0x39, 0x20, 0x69,
  0x64, 0x0a, 0x65, 0x20, 0x6c, 0x20, 0x65, 0x6c, 0x0a, 0x65, 0x20, 0x61,
  0x2d, 0x6b, 0x20, 0x6d, 0x2d, 0x7a, 0x20, 0x41, 0x2d, 0x5a, 0x20, 0x30,
  0x2d, 0x39, 0x20, 0x69, 0x64, 0x0a, 0x67, 0x20, 0x65, 0x20, 0x67, 0x65,
  0x0a, 0x67, 0x20, 0x61, 0x2d, 0x64, 0x20, 0x66, 0x2d, 0x7a, 0x20, 0x41,
  0x2d, 0x5a, 0x20, 0x30, 0x2d, 0x39, 0x20, 0x69, 0x64, 0x0a, 0x69, 0x20,
  0x66, 0x20, 0x69, 0x66, 0x0a, 0x69, 0x20, 0x6e, 0x20, 0x69, 0x6e, 0x0a,
  0x69, 0x20, 0x61, 0x2d, 0x65, 0x20, 0x67, 0x2d, 0x6d, 0x20, 0x6f, 0x2d,
  0x7a, 0x20, 0x41, 0x2d, 0x5a, 0x20, 0x30, 0x2d, 0x39, 0x20, 0x69, 0x64,
  0x20, 0x0a, 0x6e, 0x20, 0x65, 0x20, 0x6e, 0x65, 0x0a, 0x6e, 0x20, 0x61,
  0x2d, 0x64, 0x20, 0x66, 0x2d, 0x7a, 0x20, 0x41, 0x2d, 0x5a, 0x20, 0x30,
  0x2d, 0x39, 0x20, 0x69, 0x64, 0x0a, 0x70, 0x20, 0x72, 0x20, 0x70, 0x72,
  0x0a, 0x70, 0x20, 0x75, 0x20, 0x70, 0x75, 0x0a, 0x70, 0x20, 0x61, 0x2d,
  0x71, 0x20, 0x73, 0x2d, 0x74, 0x20, 0x76, 0x2d, 0x7a, 0x20, 0x41, 0x2d,
  0x5a, 0x20, 0x30, 0x2d, 0x39, 0x20, 0x69, 0x64, 0x0a, 0x72, 0x20, 0x65,
  0x20, 0x72, 0x65, 0x0a, 0x72, 0x20, 0x61, 0x2d, 0x64, 0x20, 0x66, 0x2d,
  0x7a, 0x20, 0x41, 0x2d, 0x5a, 0x20, 0x30, 0x2d, 0x39, 0x20, 0x69, 0x64,
  0x0a, 0x77, 0x20, 0x61, 0x20, 0x77, 0x61, 0x0a, 0x77, 0x20, 0x68, 0x20,
  0x77, 0x68, 0x0a, 0x77, 0x20, 0x62, 0x2d, 0x67, 0x20, 0x69, 0x2d, 0x7a,
  0x20, 0x41, 0x2d, 0x5a, 0x20, 0x30, 0x2d, 0x39, 0x20, 0x69, 0x64, 0x0a,
  0x4e, 0x20, 0x55, 0x20, 0x4e, 0x55, 0x20, 0x0a, 0x4e, 0x20, 0x61, 0x2d,
  0x7a, 0x20, 0x41, 0x2d, 0x54, 0x20, 0x56, 0x2d, 0x5a, 0x20, 0x30, 0x2d,
  0x39, 0x20, 0x69, 0x64, 0x0a, 0x64, 0x65, 0x20, 0x6c, 0x20, 0x64, 0x65,
  0x6c, 0x0a, 0x64, 0x65, 0x20, 0x61, 0x2d, 0x6b, 0x20, 0x6d, 0x2d, 0x7a,
  0x20, 0x41, 0x2d, 0x5a, 0x20, 0x30, 0x2d, 0x39, 0x20, 0x69, 0x64, 0x0a,
  0x65, 0x6c, 0x20, 0x73, 0x20, 0x65, 0x6c, 0x73, 0x0a, 0x65, 0x6c, 0x20,
  0x61, 0x2d, 0x72, 0x20, 0x74, 0x2d, 0x7a, 0x20, 0x41, 0x2d, 0x5a, 0x20,
  0x30, 0x2d, 0x39, 0x20, 0x69, 0x64, 0x0a, 0x67, 0x65, 0x20, 0x74, 0x20,
  0x67, 0x65, 0x74, 0x0a, 0x67, 0x65, 0x20, 0x61, 0x2d, 0x73, 0x20, 0x75,
  0x2d, 0x7a, 0x20, 0x41, 0x2d, 0x5a, 0x20, 0x30, 0x2d, 0x39, 0x20, 0x69,
  0x64, 0x0a, 0x69, 0x66, 0x20, 0x61, 0x2d, 0x7a, 0x20, 0x41, 0x2d, 0x5a,
  0x20, 0x30, 0x2d, 0x39, 0x20, 0x69, 0x64, 0x0a, 0x69, 0x6e, 0x20, 0x74,
  0x20, 0x69, 0x6e, 0x74, 0x0a, 0x69, 0x6e, 0x20, 0x61, 0x2d, 0x73, 0x20,
  0x75, 0x2d, 0x7a, 0x20, 0x41, 0x2d, 0x5a, 0x20, 0x30, 0x2d, 0x39, 0x20,
  0x69, 0x64, 0x0a, 0x6e, 0x65, 0x20, 0x77, 0x20, 0x6e, 0x65, 0x77, 0x0a,
  0x6e, 0x65, 0x20, 0x61, 0x2d, 0x76, 0x20, 0x78, 0x2d, 0x7a, 0x20, 0x41,
  0x2d, 0x5a, 0x20, 0x30, 0x2d, 0x39, 0x20, 0x69, 0x64, 0x0a, 0x70, 0x72,
  0x20, 0x69, 0x20, 0x70, 0x72, 0x69, 0x0a, 0x70, 0x72, 0x20, 0x61, 0x2d,
  0x68, 0x20, 0x6a, 0x2d, 0x7a, 0x20, 0x41, 0x2d, 0x5a, 0x20, 0x30, 0x2d,
  0x39, 0x20, 0x69, 0x64, 0x0a, 0x70, 0x75, 0x20, 0x74, 0x20, 0x70, 0x75,
  0x74, 0x0a, 0x70, 0x75, 0x20, 0x61, 0x2d, 0x73, 0x20, 0x75, 0x2d, 0x7a,
  0x20, 0x41, 0x2d, 0x5a, 0x20, 0x30, 0x2d, 0x39, 0x20, 0x69, 0x64, 0x0a,
  0x72, 0x65, 0x20, 0x74, 0x20, 0x72, 0x65, 0x74, 0x0a, 0x72, 0x65, 0x20,
  0x61, 0x2d, 0x73, 0x20, 0x75, 0x2d, 0x7a, 0x20, 0x41, 0x2d, 0x5a, 0x20,
  0x30, 0x2d, 0x39, 0x20, 0x69, 0x64, 0x0a, 0x77, 0x61, 0x20, 0x69, 0x20,
  0x77, 0x61, 0x69, 0x0a, 0x77, 0x61, 0x20, 0x61, 0x2d, 0x68, 0x20, 0x6a,
  0x2d, 0x7a, 0x20, 0x41, 0x2d, 0x5a, 0x20, 0x30, 0x2d, 0x39, 0x20, 0x69,
  0x64, 0x0a, 0x77, 0x68, 0x20, 0x69, 0x20, 0x77, 0x68, 0x69, 0x0a, 0x77,
  0x68, 0x20, 0x61, 0x2d, 0x68, 0x20, 0x6a, 0x2d, 0x7a, 0x20, 0x41, 0x2d,
  0x5a, 0x20, 0x30, 0x2d, 0x39, 0x20, 0x69, 0x64, 0x0a, 0x4e, 0x55, 0x20,
  0x4c, 0x20, 0x4e, 0x55, 0x4c, 0x0a, 0x4e, 0x55, 0x20, 0x61, 0x2d, 0x7a,
  0x20, 0x41, 0x2d, 0x4b, 0x20, 0x4d, 0x2d, 0x5a, 0x20, 0x30, 0x2d, 0x39,
  0x20, 0x69, 0x64, 0x0a, 0x64, 0x65, 0x6c, 0x20, 0x65, 0x20, 0x64, 0x65,
  0x6c, 0x65, 0x0a, 0x64, 0x65, 0x6c, 0x20, 0x61, 0x2d, 0x64, 0x20, 0x66,
  0x2d, 0x7a, 0x20, 0x41, 0x2d, 0x5a, 0x20, 0x30, 0x2d, 0x39, 0x20, 0x69,
  0x64, 0x0a, 0x65, 0x6c, 0x73, 0x20, 0x65, 0x20, 0x65, 0x6c, 0x73, 0x65,
  0x20, 0x0a, 0x65, 0x6c, 0x73, 0x20, 0x61, 0x2d, 0x64, 0x20, 0x66, 0x2d,
  0x7a, 0x20, 0x41, 0x2d, 0x5a, 0x20, 0x30, 0x2d, 0x39, 0x20, 0x69, 0x64,
  0x0a, 0x67, 0x65, 0x74, 0x20, 0x63, 0x20, 0x67, 0x65, 0x74, 0x63, 0x20,
  0x0a, 0x67, 0x65, 0x74, 0x20, 0x61, 0x2d, 0x62, 0x20, 0x64, 0x2d, 0x7a,
  0x20, 0x41, 0x2d, 0x5a, 0x20, 0x30, 0x2d, 0x39, 0x20, 0x69, 0x64, 0x20,
  0x0a, 0x69, 0x6e, 0x74, 0x20, 0x61, 0x2d, 0x7a, 0x20, 0x41, 0x2d, 0x5a,
  0x20, 0x30, 0x2d, 0x39, 0x20, 0x69, 0x64, 0x0a, 0x6e, 0x65, 0x77, 0x20,
  0x61, 0x2d, 0x7a, 0x20, 0x41, 0x2d, 0x5a, 0x20, 0x30, 0x2d, 0x39, 0x20,
  0x69, 0x64, 0x0a, 0x70, 0x72, 0x69, 0x20, 0x6e, 0x20, 0x70, 0x72, 0x69,
  0x6e, 0x0a, 0x70, 0x72, 0x69, 0x20, 0x61, 0x2d, 0x6d, 0x20, 0x6f, 0x2d,
  0x7a, 0x20, 0x41, 0x2d, 0x5a, 0x20, 0x30, 0x2d, 0x39, 0x20, 0x69, 0x64,
  0x0a, 0x70, 0x75, 0x74, 0x20, 0x63, 0x20, 0x70, 0x75, 0x74, 0x63, 0x20,
  0x0a, 0x70, 0x75, 0x74, 0x20, 0x61, 0x2d, 0x62, 0x20, 0x64, 0x2d, 0x7a,
  0x20, 0x41, 0x2d, 0x5a, 0x20, 0x30, 0x2d, 0x39, 0x20, 0x69, 0x64, 0x0a,
  0x72, 0x65, 0x74, 0x20, 0x75, 0x20, 0x72, 0x65, 0x74, 0x75, 0x20, 0x0a,
  0x72, 0x65, 0x74, 0x20, 0x61, 0x2d, 0x74, 0x20, 0x76, 0x2d, 0x7a, 0x20,
  0x41, 0x2d, 0x5a, 0x20, 0x30, 0x2d, 0x39, 0x20, 0x69, 0x64, 0x0a, 0x77,
  0x61, 0x69, 0x20, 0x6e, 0x20, 0x77, 0x61, 0x69, 0x6e, 0x0a, 0x77, 0x61,
  0x69, 0x20, 0x61, 0x2d, 0x6d, 0x20, 0x6f, 0x2d, 0x7a, 0x20, 0x41, 0x2d,
  0x5a, 0x20, 0x30, 0x2d, 0x39, 0x20, 0x69, 0x64, 0x0a, 0x77, 0x68, 0x69,
  0x20, 0x6c, 0x20, 0x77, 0x68, 0x69, 0x6c, 0x20, 0x0a, 0x77, 0x68, 0x69,
  0x20, 0x61, 0x2d, 0x6b, 0x20, 0x6d, 0x2d, 0x7a, 0x20, 0x41, 0x2d, 0x5a,
  0x20, 0x30, 0x2d, 0x39, 0x20, 0x69, 0x64, 0x0a, 0x4e, 0x55, 0x4c, 0x20,
  0x4c, 0x20, 0x4e, 0x55, 0x4c, 0x4c, 0x0a, 0x4e, 0x55, 0x4c, 0x20, 0x61,
  0x2d, 0x7a, 0x20, 0x41, 0x2d, 0x4b, 0x20, 0x4d, 0x2d, 0x5a, 0x20, 0x30,
  0x2d, 0x39, 0x20, 0x69, 0x64, 0x0a, 0x64, 0x65, 0x6c, 0x65, 0x20, 0x74,
  0x20, 0x64, 0x65, 0x6c, 0x65, 0x74, 0x0a, 0x64, 0x65, 0x6c, 0x65, 0x20,
  0x61, 0x2d, 0x73, 0x20, 0x75, 0x2d, 0x7a, 0x20, 0x41, 0x2d, 0x5a, 0x20,
  0x30, 0x2d, 0x39, 0x20, 0x69, 0x64, 0x0a, 0x65, 0x6c, 0x73, 0x65, 0x20,
  0x61, 0x2d, 0x7a, 0x20, 0x41, 0x2d, 0x5a, 0x20, 0x30, 0x2d, 0x39, 0x20,
  0x69, 0x64, 0x0a, 0x67, 0x65, 0x74, 0x63, 0x20, 0x68, 0x20, 0x67, 0x65,
  0x74, 0x63, 0x68, 0x0a, 0x67, 0x65, 0x74, 0x63, 0x20, 0x61, 0x2d, 0x67,
  0x20, 0x69, 0x2d, 0x7a, 0x20, 0x41, 0x2d, 0x5a, 0x20, 0x30, 0x2d, 0x39,
  0x20, 0x69, 0x64, 0x0a, 0x70, 0x72, 0x69, 0x6e, 0x20, 0x74, 0x20, 0x70,
  0x72, 0x69, 0x6e, 0x74, 0x0a, 0x70, 0x72, 0x69, 0x6e, 0x20, 0x61, 0x2d,
  0x73, 0x20, 0x75, 0x2d, 0x7a, 0x20, 0x41, 0x2d, 0x5a, 0x20, 0x30, 0x2d,
  0x39, 0x20, 0x69, 0x64, 0x0a, 0x70, 0x75, 0x74, 0x63, 0x20, 0x68, 0x20,
  0x70, 0x75, 0x74, 0x63, 0x68, 0x20, 0x0a, 0x70, 0x75, 0x74, 0x63, 0x20,
  0x61, 0x2d, 0x67, 0x20, 0x69, 0x2d, 0x7a, 0x20, 0x41, 0x2d, 0x5a, 0x20,
  0x30, 0x2d, 0x39, 0x20, 0x69, 0x64, 0x0a, 0x72, 0x65, 0x74, 0x75, 0x20,
  0x72, 0x20, 0x72, 0x65, 0x74, 0x75, 0x72, 0x0a, 0x72, 0x65, 0x74, 0x75,
  0x20, 0x61, 0x2d, 0x71, 0x20, 0x73, 0x2d, 0x7a, 0x20, 0x41, 0x2d, 0x5a,
  0x20, 0x30, 0x2d, 0x39, 0x20, 0x69, 0x64, 0x0a, 0x77, 0x61, 0x69, 0x6e,
  0x20, 0x61, 0x2d, 0x7a, 0x20, 0x41, 0x2d, 0x5a, 0x20, 0x30, 0x2d, 0x39,
  0x20, 0x69, 0x64, 0x0a, 0x77, 0x68, 0x69, 0x6c, 0x20, 0x65, 0x20, 0x77,
  0x68, 0x69, 0x6c, 0x65, 0x0a, 0x77, 0x68, 0x69, 0x6c, 0x20, 0x61, 0x2d,
  0x64, 0x20, 0x66, 0x2d, 0x7a, 0x20, 0x41, 0x2d, 0x5a, 0x20, 0x30, 0x2d,
  0x39, 0x20, 0x69, 0x64, 0x0a, 0x4e, 0x55, 0x4c, 0x4c, 0x20, 0x61, 0x2d,
  0x7a, 0x20, 0x41, 0x2d, 0x5a, 0x20, 0x30, 0x2d, 0x39, 0x20, 0x69, 0x64,
  0x0a, 0x64, 0x65, 0x6c, 0x65, 0x74, 0x20, 0x65, 0x20, 0x64, 0x65, 0x6c,
  0x65, 0x74, 0x65, 0x0a, 0x64, 0x65, 0x6c, 0x65, 0x74, 0x20, 0x61, 0x2d,
  0x64, 0x20, 0x66, 0x2d, 0x7a, 0x20, 0x41, 0x2d, 0x5a, 0x20, 0x30, 0x2d,
  0x39, 0x20, 0x69, 0x64, 0x0a, 0x67, 0x65, 0x74, 0x63, 0x68, 0x20, 0x61,
  0x20, 0x67, 0x65, 0x74, 0x63, 0x68, 0x61, 0x20, 0x0a, 0x67, 0x65, 0x74,
  0x63, 0x68, 0x20, 0x62, 0x2d, 0x7a, 0x20, 0x41, 0x2d, 0x5a, 0x20, 0x30,
  0x2d, 0x39, 0x20, 0x69, 0x64, 0x0a, 0x70, 0x72, 0x69, 0x6e, 0x74, 0x20,
  0x6c, 0x20, 0x70, 0x72, 0x69, 0x6e, 0x74, 0x6c, 0x20, 0x0a, 0x70, 0x72,
  0x69, 0x6e, 0x74, 0x20, 0x61, 0x2d, 0x6b, 0x20, 0x6d, 0x2d, 0x7a, 0x20,
  0x41, 0x2d, 0x5a, 0x20, 0x30, 0x2d, 0x39, 0x20, 0x69, 0x64, 0x0a, 0x70,
  0x75, 0x74, 0x63, 0x68, 0x20, 0x61, 0x20, 0x70, 0x75, 0x74, 0x63, 0x68,
  0x61, 0x0a, 0x70, 0x75, 0x74, 0x63, 0x68, 0x20, 0x62, 0x2d, 0x7a, 0x20,
  0x41, 0x2d, 0x5a, 0x20, 0x30, 0x2d, 0x39, 0x20, 0x69, 0x64, 0x0a, 0x72,
  0x65, 0x74, 0x75, 0x72, 0x20, 0x6e, 0x20, 0x72, 0x65, 0x74, 0x75, 0x72,
  0x6e, 0x0a, 0x72, 0x65, 0x74, 0x75, 0x72, 0x20, 0x61, 0x2d, 0x6d, 0x20,
  0x6f, 0x2d, 0x7a, 0x20, 0x41, 0x2d, 0x5a, 0x20, 0x30, 0x2d, 0x39, 0x20,
  0x69, 0x64, 0x0a, 0x77, 0x68, 0x69, 0x6c, 0x65, 0x20, 0x61, 0x2d, 0x7a,
  0x20, 0x41, 0x2d, 0x5a, 0x20, 0x30, 0x2d, 0x39, 0x20, 0x69, 0x64, 0x0a,
  0x64, 0x65, 0x6c, 0x65, 0x74, 0x65, 0x20, 0x61, 0x2d, 0x7a, 0x20, 0x41,
  0x2d, 0x5a, 0x20, 0x30, 0x2d, 0x39, 0x20, 0x69, 0x64, 0x0a, 0x67, 0x65,
  0x74, 0x63, 0x68, 0x61, 0x20, 0x72, 0x20, 0x67, 0x65, 0x74, 0x63, 0x68,
  0x61, 0x72, 0x20, 0x0a, 0x67, 0x65, 0x74, 0x63, 0x68, 0x61, 0x20, 0x61,
  0x2d, 0x71, 0x20, 0x73, 0x2d, 0x7a, 0x20, 0x41, 0x2d, 0x5a, 0x20, 0x30,
  0x2d, 0x39, 0x20, 0x69, 0x64, 0x0a, 0x70, 0x72, 0x69, 0x6e, 0x74, 0x6c,
  0x20, 0x6e, 0x20, 0x70, 0x72, 0x69, 0x6e, 0x74, 0x6c, 0x6e, 0x0a, 0x70,
  0x72, 0x69, 0x6e, 0x74, 0x6c, 0x20, 0x61, 0x2d, 0x6d, 0x20, 0x6f, 0x2d,
  0x7a, 0x20, 0x41, 0x2d, 0x5a, 0x20, 0x30, 0x2d, 0x39, 0x20, 0x69, 0x64,
  0x0a, 0x70, 0x75, 0x74, 0x63, 0x68, 0x61, 0x20, 0x72, 0x20, 0x70, 0x75,
  0x74, 0x63, 0x68, 0x61, 0x72, 0x0a, 0x70, 0x75, 0x74, 0x63, 0x68, 0x61,
  0x20, 0x61, 0x2d, 0x71, 0x20, 0x73, 0x2d, 0x7a, 0x20, 0x41, 0x2d, 0x5a,
  0x20, 0x30, 0x2d, 0x39, 0x20, 0x69, 0x64, 0x0a, 0x72, 0x65, 0x74, 0x75,
  0x72, 0x6e, 0x20, 0x61, 0x2d, 0x7a, 0x20, 0x41, 0x2d, 0x5a, 0x20, 0x30,
  0x2d, 0x39, 0x20, 0x69, 0x64, 0x0a, 0x67, 0x65, 0x74, 0x63, 0x68, 0x61,
  0x72, 0x20, 0x61, 0x2d, 0x7a, 0x20, 0x41, 0x2d, 0x5a, 0x20, 0x30, 0x2d,
  0x39, 0x20, 0x69, 0x64, 0x0a, 0x70, 0x72, 0x69, 0x6e, 0x74, 0x6c, 0x6e,
  0x20, 0x61, 0x2d, 0x7a, 0x20, 0x41, 0x2d, 0x5a, 0x20, 0x30, 0x2d, 0x39,
  0x20, 0x69, 0x64, 0x0a, 0x70, 0x75, 0x74, 0x63, 0x68, 0x61, 0x72, 0x20,
  0x61, 0x2d, 0x7a, 0x20, 0x41, 0x2d, 0x5a, 0x20, 0x30, 0x2d, 0x39, 0x20,
  0x69, 0x64
};
unsigned int wlp4_dfa_len = 3002;

// Locations in the program that you should modify to store the
// DFA information have been marked with four-slash comments:
//// (Four-slash comment)
int main() {

  std::unordered_map<std::string, std::string> names;
  names.insert({"slash", "SLASH"});
  names.insert({"secondslash", "SECONDSLASH"});
  names.insert({"commentdone", "COMMENTDONE"});
  names.insert({"id", "ID"});
  names.insert({"d", "ID"});
  names.insert({"e", "ID"});
  names.insert({"g", "ID"});
  names.insert({"i", "ID"});
  names.insert({"n", "ID"});
  names.insert({"p", "ID"});
  names.insert({"r", "ID"});
  names.insert({"w", "ID"});
  names.insert({"N", "ID"});
  names.insert({"de", "ID"});
  names.insert({"el", "ID"});
  names.insert({"ge", "ID"});
  names.insert({"in", "ID"});
  names.insert({"ne", "ID"});
  names.insert({"pr", "ID"});
  names.insert({"pu", "ID"});
  names.insert({"re", "ID"});
  names.insert({"wa", "ID"});
  names.insert({"wh", "ID"});
  names.insert({"NU", "ID"});
  names.insert({"del", "ID"});
  names.insert({"els", "ID"});
  names.insert({"get", "ID"});
  names.insert({"pri", "ID"});
  names.insert({"put", "ID"});
  names.insert({"ret", "ID"});
  names.insert({"wai", "ID"});
  names.insert({"whi", "ID"});
  names.insert({"NUL", "ID"});
  names.insert({"dele", "ID"});
  names.insert({"getc", "ID"});
  names.insert({"prin", "ID"});
  names.insert({"putc", "ID"});
  names.insert({"retu", "ID"});
  names.insert({"whil", "ID"});
  names.insert({"delet", "ID"});
  names.insert({"getch", "ID"});
  names.insert({"print", "ID"});
  names.insert({"putch", "ID"});
  names.insert({"retur", "ID"});
  names.insert({"getcha", "ID"});
  names.insert({"printl", "ID"});
  names.insert({"putcha", "ID"});

  names.insert({"wain", "WAIN"});
  names.insert({"int", "INT"});
  names.insert({"if", "IF"});
  names.insert({"else", "ELSE"});
  names.insert({"while", "WHILE"});
  names.insert({"println", "PRINTLN"});
  names.insert({"putchar", "PUTCHAR"});
  names.insert({"getchar", "GETCHAR"});
  names.insert({"return", "RETURN"});
  names.insert({"NULL", "NULL"});
  names.insert({"new", "NEW"});
  names.insert({"delete", "DELETE"});

  names.insert({"lparen", "LPAREN"});
  names.insert({"rparen", "RPAREN"});
  names.insert({"lbrace", "LBRACE"});
  names.insert({"rbrace", "RBRACE"});
  names.insert({"lbrack", "LBRACK"});
  names.insert({"rbrack", "RBRACK"});
  names.insert({"becomes", "BECOMES"});
  names.insert({"eq", "EQ"});
  names.insert({"neq", "NE"});
  names.insert({"gt", "GT"});
  names.insert({"lt", "LT"});
  names.insert({"geq", "GE"});
  names.insert({"le", "LE"});
  names.insert({"plus", "PLUS"});
  names.insert({"minus", "MINUS"});
  names.insert({"star", "STAR"});
  names.insert({"pct", "PCT"});
  names.insert({"comma", "COMMA"});
  names.insert({"semi", "SEMI"});
  names.insert({"amp", "AMP"});

  names.insert({"first_zero", "NUM"});
  names.insert({"num", "NUM"});


  std::string s;
  std::string foo((char *) wlp4_dfa, wlp4_dfa_len);
  std::stringstream in(foo);
  
  std::getline(in, s); // Alphabet section (skip header)
  // Read characters or ranges separated by whitespace
  while(in >> s) {
    if (s == STATES) { 
      break; 
    } else {
      if (isChar(s)) {
        alphabet.insert(char(s[0]));
      } else if (isRange(s)) {
        for(char c = s[0]; c <= s[2]; ++c) {
          alphabet.insert(c);
        }
      } 
    }
  }

  std::getline(in, s); // States section (skip header)
  // Read states separated by whitespace
  while(in >> s) {
    if (s == TRANSITIONS) { 
      break; 
    } else {
      static bool initial = true;
      bool accepting = false;
      if (s.back() == '!' && !isChar(s)) {
        accepting = true;
        s.pop_back();
      }
      if (initial) {
        starting_state = s;
        initial = false;
      }
      if (accepting) {
        accepting_states.insert(s);
      }
      states.insert(s);
      transitions[s];
    }
  }

  std::getline(in, s); // Transitions section (skip header)
  // Read transitions line-by-line
  while(std::getline(in, s)) {
    if (s == INPUT) { 
      // Note: Since we're reading line by line, once we encounter the
      // input header, we will already be on the line after the header
      break; 
    } else {
      std::string fromState, symbols, toState;
      std::istringstream line(s);
      std::vector<std::string> lineVec;
      while(line >> s) {
        lineVec.push_back(s);
      }
      fromState = lineVec.front();
      toState = lineVec.back();
      for(int i = 1; i < lineVec.size()-1; ++i) {
        std::string s = lineVec[i];
        if (isChar(s)) {
          symbols += s;
        } else if (isRange(s)) {
          for(char c = s[0]; c <= s[2]; ++c) {
            symbols += c;
          }
        }
      }
      for ( char c : symbols ) {
        if (alphabet.find(c) != alphabet.end() && states.find(fromState) != states.end() && states.find(toState) != states.end()) {
          transitions[fromState][c] = toState;
        }
      }
    }
  }

  std::istream& input = std::cin;
  while (std::getline(input, s)) {
    std::string lexeme = "";
    std::string curr_state = starting_state;
    std::istringstream iss(s);
    char c;

    // Input section (already skipped header)
    while (iss.get(c)) {
        if (lexeme.length() == 0 && c == ' ') continue;
        if (transitions.contains(curr_state) && transitions[curr_state].contains(c)) {
            curr_state = transitions[curr_state][c];
            lexeme += c;
        }
        else if (curr_state == "secondslash" || curr_state == "commentdone") {
            continue;
        }
        else {
            if (lexeme.length() > 0 && c != ' ') iss.putback (c);
            if (curr_state == "secondslash" || curr_state == "commentdone") ;
            else if (curr_state == "num" && std::stod(lexeme) > 2147483647) std::cerr << "ERROR RANGE" << std::endl;
            else if (accepting_states.contains(curr_state)) std::cout << names[curr_state] << " " << lexeme << "\n";
            else std::cerr << "ERROR" << std::endl;
            lexeme = "";
            curr_state = starting_state;
        }
    }
    if (curr_state == "secondslash" || curr_state == "commentdone") ;
    else if (curr_state == "num" && std::stod(lexeme) > 2147483647) std::cerr << "ERROR RANGE" << std::endl;
    else if (accepting_states.contains(curr_state)) std::cout << names[curr_state] << " " << lexeme << "\n";
    else if (lexeme.length() > 0) std::cerr << "ERROR" << std::endl;
  }
}